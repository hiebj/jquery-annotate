!function(n){function a(a){a=a||{};var i=a.annotationRenderer||s,e="undefined"!=typeof a.detailsRenderer?a.detailsRenderer:l,o=a.pseudoEls;return this.addClass("annotate"),o&&this.addClass("a-pseudo"),this.each(function(){var a=n(this);a.data("annotated")||(a.data("annotated",!0),t.call(this,i,e))}),this}function t(a,t){var o=n(this),s=d.slice();return s[2]=a.call(this),s=n(s.join("")),o.prepend(s),i.call(this,s),t&&(s.find(".annotation-pill").append("<pre>"),e.call(this,t)),s}function i(a){var t=n(this),i=!1;a.children(".annotation-pill").hover(function(){t.addClass("a-details")},function(){!i&&t.removeClass("a-details")}).click(function(){i=!i,t.toggleClass("a-freeze")})}function e(a){function t(){var n;o.data("annotated")&&(n=a.call(e),n!==i&&(s.html(n),i=n),window.requestAnimationFrame(t))}var i,e=this,o=n(this),s=o.find(".annotation-pill pre");t()}function o(){n(this).removeClass("annotate a-pseudo a-details a-freeze").data("annotated",!1).children(".annotation").remove()}function s(){return this.tagName.toLowerCase()+"#"+this.id}function l(){var n=window.getComputedStyle(this);return["display: "+n.display,"position: "+n.position,"float: "+n["float"],"clear: "+n.clear+";"].join(";\n")}var d=['<div class="annotation">','<div class="annotation-pill">',"{{annotation}}","</div>","</div>"];n.fn.annotate=a,n.fn.clearAnnotations=o}(jQuery);
